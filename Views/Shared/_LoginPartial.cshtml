@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Hosting;

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
@inject IWebHostEnvironment AppEnvironment

@if (SignInManager.IsSignedIn(User))
{
    User user = await UserManager.GetUserAsync(User);
    <a asp-action="Info" asp-controller="User" class="header__nav-item header__nav-item--a">
        <span>@user.UserName </span>
    </a>
    @*<form class="form header__nav-item" method="get" asp-action="Info" asp-controller="User" >
        <button class="button-img" type="submit" style="background-image: url( @user?.Avatar?.Path )" />
    </form>*@
}
else
{
    <a asp-action="Login" asp-controller="Account" class="header__nav-item header__nav-item--a">
        <span>Sign in</span>
    </a>
}